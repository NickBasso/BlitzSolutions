#include <iostream>
#include <cstring>

using namespace std;

int main(){
	freopen("input.txt", "r", stdin);
	
	char s[50][50] = {0};
	char ans[50] = {0};
	int i, k, sum = 0;
	
	/*for(i = 1; i <= 3; i++, cout << "\n")
		for(j = 1; j <= 27; j++){
			cin >> s[i][j];
			cout << s[i][j];
		}*/
	gets(s[0]);
	gets(s[1]);
	gets(s[2]);
	
	s[0][26] = ' ';
	s[0][27] = 0;
			
	cout << s[0] << "\n" << s[1] << "\n" << s[2];
	
	for(i = 9, k = 0; i >= 1; i--, k++){
		if(s[0][(9 - i)*3] == ' ' && s[0][(9 - i)*3 + 1] == '_' && s[0][(9 - i)*3 + 2] == ' '
		&& s[1][(9 - i)*3] == '|' && s[1][(9 - i)*3 + 1] == ' ' && s[1][(9 - i)*3 + 2] == '|'
		&& s[2][(9 - i)*3] == '|' && s[2][(9 - i)*3 + 1] == '_' && s[2][(9 - i)*3 + 2] == '|')
		{
			sum += i * 0;	
			ans[k] = '0';
		}
		else
		if(s[0][(9 - i)*3] == ' ' && s[0][(9 - i)*3 + 1] == ' ' && s[0][(9 - i)*3 + 2] == ' '
		&& s[1][(9 - i)*3] == ' ' && s[1][(9 - i)*3 + 1] == ' ' && s[1][(9 - i)*3 + 2] == '|'
		&& s[2][(9 - i)*3] == ' ' && s[2][(9 - i)*3 + 1] == ' ' && s[2][(9 - i)*3 + 2] == '|')
		{
			sum += i * 1;	
			ans[k] = '1';
		}
		else 
		if(s[0][(9 - i)*3] == ' ' && s[0][(9 - i)*3 + 1] == '_' && s[0][(9 - i)*3 + 2] == ' '
		&& s[1][(9 - i)*3] == ' ' && s[1][(9 - i)*3 + 1] == '_' && s[1][(9 - i)*3 + 2] == '|'
		&& s[2][(9 - i)*3] == '|' && s[2][(9 - i)*3 + 1] == '_' && s[2][(9 - i)*3 + 2] == ' ')
		{
			sum += i * 2;
			ans[k] = '2';
		}
		else 
		if(s[0][(9 - i)*3] == ' ' && s[0][(9 - i)*3 + 1] == '_' && s[0][(9 - i)*3 + 2] == ' '
		&& s[1][(9 - i)*3] == ' ' && s[1][(9 - i)*3 + 1] == '_' && s[1][(9 - i)*3 + 2] == '|'
		&& s[2][(9 - i)*3] == ' ' && s[2][(9 - i)*3 + 1] == '_' && s[2][(9 - i)*3 + 2] == '|')
		{
			sum += i * 3;
			ans[k] = '3';
		}
		else 
		if(s[0][(9 - i)*3] == ' ' && s[0][(9 - i)*3 + 1] == ' ' && s[0][(9 - i)*3 + 2] == ' '
		&& s[1][(9 - i)*3] == '|' && s[1][(9 - i)*3 + 1] == '_' && s[1][(9 - i)*3 + 2] == '|'
		&& s[2][(9 - i)*3] == ' ' && s[2][(9 - i)*3 + 1] == ' ' && s[2][(9 - i)*3 + 2] == '|')
		{
			sum += i * 4;
			ans[k] = '4';
		}
		else 
		if(s[0][(9 - i)*3] == ' ' && s[0][(9 - i)*3 + 1] == '_' && s[0][(9 - i)*3 + 2] == ' '
		&& s[1][(9 - i)*3] == '|' && s[1][(9 - i)*3 + 1] == '_' && s[1][(9 - i)*3 + 2] == ' '
		&& s[2][(9 - i)*3] == ' ' && s[2][(9 - i)*3 + 1] == '_' && s[2][(9 - i)*3 + 2] == '|')
		{
			sum += i * 5;
			ans[k] = '5';
		}
		else 
		if(s[0][(9 - i)*3] == ' ' && s[0][(9 - i)*3 + 1] == '_' && s[0][(9 - i)*3 + 2] == ' '
		&& s[1][(9 - i)*3] == '|' && s[1][(9 - i)*3 + 1] == '_' && s[1][(9 - i)*3 + 2] == ' '
		&& s[2][(9 - i)*3] == '|' && s[2][(9 - i)*3 + 1] == '_' && s[2][(9 - i)*3 + 2] == '|')
		{
			sum += i * 6;
			ans[k] = '6';
		}
		else 
		if(s[0][(9 - i)*3] == ' ' && s[0][(9 - i)*3 + 1] == '_' && s[0][(9 - i)*3 + 2] == ' '
		&& s[1][(9 - i)*3] == ' ' && s[1][(9 - i)*3 + 1] == ' ' && s[1][(9 - i)*3 + 2] == '|'
		&& s[2][(9 - i)*3] == ' ' && s[2][(9 - i)*3 + 1] == ' ' && s[2][(9 - i)*3 + 2] == '|')
		{
			sum += i * 7;
			ans[k] = '7';
		}
		else 
		if(s[0][(9 - i)*3] == ' ' && s[0][(9 - i)*3 + 1] == '_' && s[0][(9 - i)*3 + 2] == ' '
		&& s[1][(9 - i)*3] == '|' && s[1][(9 - i)*3 + 1] == '_' && s[1][(9 - i)*3 + 2] == '|'
		&& s[2][(9 - i)*3] == '|' && s[2][(9 - i)*3 + 1] == '_' && s[2][(9 - i)*3 + 2] == '|')
		{
			sum += i * 8;
			ans[k] = '8';
		}
		else 
		if(s[0][(9 - i)*3] == ' ' && s[0][(9 - i)*3 + 1] == '_' && s[0][(9 - i)*3 + 2] == ' '
		&& s[1][(9 - i)*3] == '|' && s[1][(9 - i)*3 + 1] == '_' && s[1][(9 - i)*3 + 2] == '|'
		&& s[2][(9 - i)*3] == ' ' && s[2][(9 - i)*3 + 1] == '_' && s[2][(9 - i)*3 + 2] == '|')
		{
			sum += i * 9;
			ans[k] = '9';
		}
		else
		{
			cout << "\n\nFailure or ambiguity";
			break;
		}
	}
	
	if(i == 0 && sum % 11 == 0)
		cout << "\n\n" << ans;
	else
		cout << "\n\nFailure or ambiguity";
	
	return 0;
}
